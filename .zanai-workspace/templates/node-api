# Node.js API Template

Este template cria uma API RESTful robusta com Node.js, Express, Prisma e PostgreSQL.

## Estrutura do Template

```
.
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ .env.example
â”œâ”€â”€ .env
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma
â”‚   â””â”€â”€ migrations/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ app.ts
â”‚   â”œâ”€â”€ server.ts
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ database.ts
â”‚   â”‚   â””â”€â”€ express.ts
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ user.controller.ts
â”‚   â”‚   â””â”€â”€ auth.controller.ts
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â””â”€â”€ validation.ts
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ api.ts
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â””â”€â”€ users.ts
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ user.service.ts
â”‚   â”‚   â””â”€â”€ auth.service.ts
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ express.d.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ logger.ts
â”‚       â””â”€â”€ errorHandler.ts
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/
â”‚   â””â”€â”€ integration/
â””â”€â”€ docker-compose.yml
```

## InstalaÃ§Ã£o

```bash
# Copiar template
cp -r .killo-workspace/templates/node-api minha-api

# Entrar no diretÃ³rio
cd minha-api

# Instalar dependÃªncias
npm install

# Configurar variÃ¡veis de ambiente
cp .env.example .env
# Editar .env com suas configuraÃ§Ãµes

# Iniciar banco de dados (opcional)
docker-compose up -d

# Rodar migraÃ§Ãµes do Prisma
npx prisma migrate dev

# Iniciar servidor
npm run dev
```

## Recursos

- ğŸ” **AutenticaÃ§Ã£o JWT**: Sistema de autenticaÃ§Ã£o seguro
- ğŸ—„ï¸ **ORM Prisma**: Type-safe database access
- ğŸ“Š **ValidaÃ§Ã£o**: Zod para validaÃ§Ã£o de dados
- ğŸ§ª **Testes**: Estrutura para testes unitÃ¡rios e de integraÃ§Ã£o
- ğŸ³ **Docker**: ConfiguraÃ§Ã£o pronta para containerizaÃ§Ã£o
- ğŸ“ **Logging**: Sistema de logging estruturado
- ğŸ›¡ï¸ **SeguranÃ§a**: Middlewares de seguranÃ§a e tratamento de erros

## Comandos DisponÃ­veis

- `npm run dev` - Inicia o servidor em modo desenvolvimento
- `npm run build` - Compila o projeto para produÃ§Ã£o
- `npm start` - Inicia o servidor em modo produÃ§Ã£o
- `npm run test` - Executa os testes
- `npm run lint` - Executa o linter
- `npx prisma studio` - Abre o Prisma Studio
- `npx prisma migrate dev` - Cria nova migraÃ§Ã£o
- `npx prisma generate` - Gera os tipos do Prisma

## Endpoints

### AutenticaÃ§Ã£o
- `POST /api/auth/register` - Registrar novo usuÃ¡rio
- `POST /api/auth/login` - Fazer login
- `POST /api/auth/logout` - Fazer logout
- `GET /api/auth/me` - Obter usuÃ¡rio logado

### UsuÃ¡rios
- `GET /api/users` - Listar todos os usuÃ¡rios
- `GET /api/users/:id` - Obter usuÃ¡rio por ID
- `PUT /api/users/:id` - Atualizar usuÃ¡rio
- `DELETE /api/users/:id` - Deletar usuÃ¡rio

## CustomizaÃ§Ã£o

### Adicionar Novos Modelos
1. Edite `prisma/schema.prisma`
2. Rode `npx prisma migrate dev`
3. Atualize os tipos em `src/types/index.ts`

### Criar Novos Controllers
1. Crie um novo arquivo em `src/controllers/`
2. Adicione as rotas em `src/routes/`
3. Atualize `src/app.ts` para registrar as novas rotas

## IntegraÃ§Ã£o com Kilo

Este template estÃ¡ otimizado para integraÃ§Ã£o com o sistema Kilo:

1. **Busca SemÃ¢ntica**: Configure a indexaÃ§Ã£o automÃ¡tica dos endpoints
2. **Agente IA**: Use o agente para gerar novas funcionalidades
3. **Deploy**: Pronto para deploy em qualquer plataforma Node.js