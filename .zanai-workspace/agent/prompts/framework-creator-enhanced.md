# üöÄ Framework Creator Enhanced - Capacidades Expandidas

## üéØ Novas Capacidades Implementadas

### 1. üîç **Busca Inteligente de Refer√™ncias na Web**

#### Sistema de Pesquisa Avan√ßada
```javascript
class WebResearchEngine {
  constructor() {
    this.zai = null;
    this.cache = new Map();
    this.ttl = 3600000; // 1 hora
  }

  async initialize() {
    this.zai = await ZAI.create();
  }

  async searchBestPractices(technology, context = {}) {
    const cacheKey = `best-practices-${technology}-${JSON.stringify(context)}`;
    
    if (this.cache.has(cacheKey)) {
      return this.cache.get(cacheKey);
    }

    const queries = [
      `${technology} best practices 2024`,
      `${technology} architecture patterns`,
      `${technology} performance optimization`,
      `${technology} security considerations`,
      `${technology} scalability strategies`
    ];

    const results = await Promise.all(
      queries.map(query => this.zai.functions.invoke("web_search", {
        query,
        num: 5
      }))
    );

    const analysis = await this.analyzeSearchResults(results.flat(), technology);
    
    this.cache.set(cacheKey, analysis);
    return analysis;
  }

  async analyzeSearchResults(results, technology) {
    const analysisPrompt = `
      Analise os seguintes resultados de busca sobre ${technology} e extraia:
      
      1. Melhores pr√°ticas atuais
      2. Padr√µes de arquitetura recomendados
      3. Considera√ß√µes de performance
      4. Requisitos de seguran√ßa
      5. Estrat√©gias de escalabilidade
      6. Vers√µes recomendadas e compatibilidade
      7. Ferramentas e bibliotecas populares
      8. Armadilhas comuns e como evit√°-las
      
      Resultados:
      ${results.map(r => `- ${r.title}: ${r.snippet}`).join('\n')}
      
      Forne√ßa uma an√°lise estruturada em formato JSON.
    `;

    const completion = await this.zai.chat.completions.create({
      messages: [{ role: 'user', content: analysisPrompt }],
      max_tokens: 2000
    });

    return JSON.parse(completion.choices[0].message.content);
  }
}
```

#### Exemplo de Uso
```yaml
fase_analise:
  web_research:
    tecnologia: "React"
    contexto:
      tipo_aplicacao: "delivery"
      escala: "grande"
      requisitos: ["real-time", "offline-first"]
    
    resultado_pesquisa:
      melhores_praticas:
        - "Usar React Query para gerenciamento de estado do servidor"
        - "Implementar code splitting com React.lazy"
        - "Usar React.memo para otimiza√ß√£o de renderiza√ß√£o"
        - "Implementar virtual scrolling para listas grandes"
      
      versoes_recomendadas:
        react: "18.2.0"
        react_dom: "18.2.0"
        react_router: "6.8.0"
        
      bibliotecas_populares:
        - "TanStack Query (React Query)"
        - "React Hook Form"
        - "Zustand para estado global"
        - "React Virtualized"
```

### 2. ‚öôÔ∏è **Gera√ß√£o Avan√ßada de Scripts de Setup**

#### Sistema de Setup Inteligente
```yaml
setup_automatico_avancado:
  detectar_ambiente:
    - os: "Windows/Linux/MacOS"
    - shell: "bash/zsh/powershell"
    - node_version: "16+/18+/20+"
    - package_manager: "npm/yarn/pnpm"
    - docker: "instalado/n√£o instalado"
  
  gerar_scripts:
    - setup.sh: "Setup principal (Unix)"
    - setup.ps1: "Setup principal (Windows)"
    - setup.bat: "Setup alternativo (Windows)"
    - docker-compose.yml: "Orquestra√ß√£o de containers"
    - docker-compose.dev.yml: "Configura√ß√£o de desenvolvimento"
    - docker-compose.prod.yml: "Configura√ß√£o de produ√ß√£o"
    - k8s/: "Manifestos Kubernetes"
    - github/workflows/: "CI/CD pipelines"
    - scripts/migrate.js: "Migra√ß√µes de banco de dados"
    - scripts/seed.js: "Dados iniciais"
    - scripts/deploy.js: "Scripts de deploy"
```

#### Exemplo de Script Gerado
```bash
#!/bin/bash
# setup.sh - Gerado automaticamente pelo Framework Creator
set -e

echo "üöÄ Setup Autom√°tico do Framework"
echo "=================================="

# Cores para output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

# Fun√ß√µes de utilidade
log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_warn() {
    echo -e "${YELLOW}[WARN]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# Detectar sistema operacional
detect_os() {
    if [[ "$OSTYPE" == "linux-gnu"* ]]; then
        OS="linux"
    elif [[ "$OSTYPE" == "darwin"* ]]; then
        OS="macos"
    elif [[ "$OSTYPE" == "msys" ]] || [[ "$OSTYPE" == "win32" ]]; then
        OS="windows"
    else
        log_error "Sistema operacional n√£o suportado: $OSTYPE"
        exit 1
    fi
    log_info "Sistema operacional detectado: $OS"
}

# Verificar depend√™ncias
check_dependencies() {
    log_info "Verificando depend√™ncias..."
    
    # Node.js
    if ! command -v node &> /dev/null; then
        log_error "Node.js n√£o encontrado. Por favor, instale Node.js 16+"
        exit 1
    fi
    
    NODE_VERSION=$(node -v | cut -d'.' -f1 | cut -d'v' -f2)
    if [ "$NODE_VERSION" -lt 16 ]; then
        log_error "Node.js vers√£o 16+ requerida. Vers√£o atual: $(node -v)"
        exit 1
    fi
    
    log_info "Node.js $(node -v) encontrado"
    
    # npm/yarn/pnpm
    if command -v pnpm &> /dev/null; then
        PACKAGE_MANAGER="pnpm"
    elif command -v yarn &> /dev/null; then
        PACKAGE_MANAGER="yarn"
    elif command -v npm &> /dev/null; then
        PACKAGE_MANAGER="npm"
    else
        log_error "Nenhum gerenciador de pacotes encontrado (npm, yarn, pnpm)"
        exit 1
    fi
    
    log_info "Gerenciador de pacotes: $PACKAGE_MANAGER"
    
    # Docker (opcional)
    if command -v docker &> /dev/null; then
        DOCKER_AVAILABLE=true
        log_info "Docker encontrado"
    else
        DOCKER_AVAILABLE=false
        log_warn "Docker n√£o encontrado (opcional)"
    fi
}

# Configurar vari√°veis de ambiente
setup_environment() {
    log_info "Configurando ambiente..."
    
    if [ ! -f ".env" ]; then
        if [ -f ".env.example" ]; then
            cp .env.example .env
            log_info "Arquivo .env criado a partir de .env.example"
            log_warn "Por favor, edite o arquivo .env com suas configura√ß√µes"
        else
            log_error "Arquivo .env.example n√£o encontrado"
            exit 1
        fi
    else
        log_info "Arquivo .env j√° existe"
    fi
}

# Instalar depend√™ncias
install_dependencies() {
    log_info "Instalando depend√™ncias com $PACKAGE_MANAGER..."
    
    case $PACKAGE_MANAGER in
        "pnpm")
            pnpm install
            ;;
        "yarn")
            yarn install
            ;;
        "npm")
            npm install
            ;;
    esac
    
    log_info "Depend√™ncias instaladas com sucesso"
}

# Configurar banco de dados
setup_database() {
    log_info "Configurando banco de dados..."
    
    # Verificar se MongoDB est√° rodando
    if command -v mongosh &> /dev/null; then
        if mongosh --eval "db.stats()" &> /dev/null; then
            log_info "MongoDB est√° rodando"
            
            # Rodar migra√ß√µes
            if [ -f "scripts/migrate.js" ]; then
                log_info "Rodando migra√ß√µes..."
                node scripts/migrate.js
            fi
            
            # Inserir dados iniciais
            if [ -f "scripts/seed.js" ]; then
                log_info "Inserindo dados iniciais..."
                node scripts/seed.js
            fi
        else
            log_warn "MongoDB n√£o est√° acess√≠vel. Pulando configura√ß√£o do banco."
        fi
    else
        log_warn "MongoDB CLI n√£o encontrado. Pulando configura√ß√£o do banco."
    fi
}

# Configurar Docker (se dispon√≠vel)
setup_docker() {
    if [ "$DOCKER_AVAILABLE" = true ]; then
        log_info "Configurando Docker..."
        
        if [ -f "docker-compose.yml" ]; then
            log_info "Iniciando containers Docker..."
            docker-compose up -d
            
            # Esperar servi√ßos ficarem prontos
            log_info "Aguardando servi√ßos ficarem prontos..."
            sleep 10
        fi
    fi
}

# Build do projeto
build_project() {
    log_info "Build do projeto..."
    
    if [ -f "package.json" ] && grep -q "\"build\"" package.json; then
        case $PACKAGE_MANAGER in
            "pnpm")
                pnpm run build
                ;;
            "yarn")
                yarn build
                ;;
            "npm")
                npm run build
                ;;
        esac
        log_info "Projeto buildado com sucesso"
    else
        log_warn "Script de build n√£o encontrado no package.json"
    fi
}

# Rodar testes
run_tests() {
    log_info "Rodando testes..."
    
    if [ -f "package.json" ] && grep -q "\"test\"" package.json; then
        case $PACKAGE_MANAGER in
            "pnpm")
                pnpm test
                ;;
            "yarn")
                yarn test
                ;;
            "npm")
                npm test
                ;;
        esac
        log_info "Testes conclu√≠dos com sucesso"
    else
        log_warn "Script de testes n√£o encontrado no package.json"
    fi
}

# Fun√ß√£o principal
main() {
    log_info "Iniciando setup autom√°tico..."
    
    detect_os
    check_dependencies
    setup_environment
    install_dependencies
    setup_database
    setup_docker
    build_project
    run_tests
    
    echo ""
    log_info "‚úÖ Setup conclu√≠do com sucesso!"
    echo ""
    log_info "Pr√≥ximos passos:"
    echo "  1. Edite o arquivo .env com suas configura√ß√µes"
    echo "  2. Execute '$PACKAGE_MANAGER run dev' para iniciar o servidor de desenvolvimento"
    echo "  3. Acesse http://localhost:3000 para ver a aplica√ß√£o"
    echo ""
    log_warn "Se encontrou problemas, verifique o arquivo .env e os logs acima"
}

# Executar main
main "$@"
```

### 3. üîå **Gera√ß√£o Avan√ßada de Integra√ß√µes com APIs**

#### Sistema de Integra√ß√£o Inteligente
```javascript
class APIIntegrationGenerator {
  constructor(framework) {
    this.framework = framework;
    this.supportedAPIs = new Map([
      ['openai', this.generateOpenAIIntegration.bind(this)],
      ['stripe', this.generateStripeIntegration.bind(this)],
      ['firebase', this.generateFirebaseIntegration.bind(this)],
      ['aws', this.generateAWSIntegration.bind(this)],
      ['github', this.generateGitHubIntegration.bind(this)],
      ['twilio', this.generateTwilioIntegration.bind(this)],
      ['sendgrid', this.generateSendGridIntegration.bind(this)],
      ['slack', this.generateSlackIntegration.bind(this)]
    ]);
  }

  async generateIntegration(apiName, options = {}) {
    const generator = this.supportedAPIs.get(apiName.toLowerCase());
    if (!generator) {
      throw new Error(`API n√£o suportada: ${apiName}`);
    }

    return await generator(options);
  }

  async generateOpenAIIntegration(options) {
    const integration = {
      client: await this.generateOpenAIClient(),
      examples: await this.generateOpenAIExamples(),
      tests: await this.generateOpenAITests(),
      documentation: await this.generateOpenAIDocumentation()
    };

    return integration;
  }

  async generateOpenAIClient() {
    return `
class OpenAIIntegration {
  constructor(config = {}) {
    this.apiKey = config.apiKey || process.env.OPENAI_API_KEY;
    this.baseURL = config.baseURL || 'https://api.openai.com/v1';
    this.model = config.model || 'gpt-4';
    this.maxTokens = config.maxTokens || 1000;
    this.temperature = config.temperature || 0.7;
  }

  async chatCompletion(messages, options = {}) {
    const response = await fetch(\`\${this.baseURL}/chat/completions\`, {
      method: 'POST',
      headers: {
        'Authorization': \`Bearer \${this.apiKey}\`,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        model: options.model || this.model,
        messages,
        max_tokens: options.maxTokens || this.maxTokens,
        temperature: options.temperature || this.temperature,
      }),
    });

    if (!response.ok) {
      throw new Error(\`OpenAI API Error: \${response.status}\`);
    }

    return await response.json();
  }

  async generateEmbeddings(text, options = {}) {
    const response = await fetch(\`\${this.baseURL}/embeddings\`, {
      method: 'POST',
      headers: {
        'Authorization': \`Bearer \${this.apiKey}\`,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        model: options.model || 'text-embedding-ada-002',
        input: text,
      }),
    });

    if (!response.ok) {
      throw new Error(\`OpenAI API Error: \${response.status}\`);
    }

    return await response.json();
  }

  async moderateContent(content) {
    const response = await fetch(\`\${this.baseURL}/moderations\`, {
      method: 'POST',
      headers: {
        'Authorization': \`Bearer \${this.apiKey}\`,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        input: content,
      }),
    });

    if (!response.ok) {
      throw new Error(\`OpenAI API Error: \${response.status}\`);
    }

    return await response.json();
  }
}

module.exports = OpenAIIntegration;
    `;
  }

  async generateOpenAIExamples() {
    return `
// Exemplos de uso da OpenAI Integration
const OpenAIIntegration = require('./openai-integration');

// Inicializar
const openai = new OpenAIIntegration({
  apiKey: process.env.OPENAI_API_KEY,
  model: 'gpt-4',
  maxTokens: 2000
});

// Exemplo 1: Chat completion
async function chatExample() {
  const response = await openai.chatCompletion([
    { role: 'system', content: 'Voc√™ √© um assistente √∫til.' },
    { role: 'user', content: 'Explique machine learning em termos simples.' }
  ]);
  
  console.log('Resposta:', response.choices[0].message.content);
}

// Exemplo 2: Gerar embeddings
async function embeddingExample() {
  const text = "Machine learning √© um subcampo da intelig√™ncia artificial.";
  const embeddings = await openai.generateEmbeddings(text);
  
  console.log('Embeddings:', embeddings.data[0].embedding);
}

// Exemplo 3: Modera√ß√£o de conte√∫do
async function moderationExample() {
  const content = "Este √© um conte√∫do apropriado.";
  const moderation = await openai.moderateContent(content);
  
  console.log('Flags:', moderation.results[0].flagged);
}

// Exemplo 4: Processamento em lote
async function batchProcessing() {
  const texts = [
    "O que √© intelig√™ncia artificial?",
    "Explique deep learning.",
    "Como funcionam redes neurais?"
  ];
  
  const promises = texts.map(text => 
    openai.chatCompletion([
      { role: 'user', content: text }
    ])
  );
  
  const results = await Promise.all(promises);
  results.forEach((result, index) => {
    console.log(\`Pergunta \${index + 1}:\`, result.choices[0].message.content);
  });
}
    `;
  }

  async generateStripeIntegration(options) {
    // Implementa√ß√£o similar para Stripe
  }

  async generateFirebaseIntegration(options) {
    // Implementa√ß√£o similar para Firebase
  }
}
```

### 4. üìö **Gera√ß√£o Avan√ßada de Documenta√ß√£o**

#### Sistema de Documenta√ß√£o Inteligente
```javascript
class DocumentationGenerator {
  constructor(framework) {
    this.framework = framework;
    this.templates = new Map();
  }

  async generateCompleteDocumentation(frameworkInfo) {
    const documentation = {
      readme: await this.generateREADME(frameworkInfo),
      api: await this.generateAPIDocumentation(frameworkInfo),
      guides: await this.generateUserGuides(frameworkInfo),
      examples: await this.generateExamples(frameworkInfo),
      deployment: await this.generateDeploymentGuide(frameworkInfo),
      troubleshooting: await this.generateTroubleshooting(frameworkInfo),
      changelog: await this.generateChangelog(frameworkInfo)
    };

    return documentation;
  }

  async generateREADME(frameworkInfo) {
    return `
# üöÄ ${frameworkInfo.name} - ${frameworkInfo.description}

<div align="center">

![${frameworkInfo.name}](https://img.shields.io/badge/${frameworkInfo.name}-v${frameworkInfo.version}-blue?style=for-the-badge&logo=github&logoColor=white)
![Node.js](https://img.shields.io/badge/Node.js-${frameworkInfo.requirements.node}+-brightgreen?style=for-the-badge&logo=node.js&logoColor=white)
![License](https://img.shields.io/badge/License-${frameworkInfo.license}-green?style=for-the-badge)

**${frameworkInfo.tagline}**

[üìñ Documenta√ß√£o](#-documenta√ß√£o) ‚Ä¢ [üöÄ Instala√ß√£o](#-instala√ß√£o) ‚Ä¢ [üíª Uso](#-uso) ‚Ä¢ [üîß API](#-api) ‚Ä¢ [üìö Exemplos](#-exemplos)

</div>

---

## üìã Sobre o Projeto

${frameworkInfo.longDescription}

### ‚ú® Funcionalidades Principais

${frameworkInfo.features.map(feature => `- **${feature.name}**: ${feature.description}`).join('\n')}

### üéØ Pr√©-requisitos

${frameworkInfo.requirements.list.map(req => `- ${req}`).join('\n')}

---

## üöÄ Instala√ß√£o

### Instala√ß√£o R√°pida

\`\`\`bash
# Clonar o reposit√≥rio
git clone ${frameworkInfo.repository.url}
cd ${frameworkInfo.name}

# Instalar depend√™ncias
npm install

# Configurar vari√°veis de ambiente
cp .env.example .env

# Rodar setup
npm run setup

# Iniciar o servidor
npm run dev
\`\`\`

### Configura√ß√£o

\`\`\`env
# Configura√ß√µes do Banco de Dados
${Object.entries(frameworkInfo.config.database).map(([key, value]) => `${key.toUpperCase()}=${value}`).join('\n')}

# Configura√ß√µes da API
${Object.entries(frameworkInfo.config.api).map(([key, value]) => `${key.toUpperCase()}=${value}`).join('\n')}

# Configura√ß√µes do Servi√ßo
${Object.entries(frameworkInfo.config.service).map(([key, value]) => `${key.toUpperCase()}=${value}`).join('\n')}
\`\`\`

---

## üíª Uso

### Exemplo B√°sico

\`\`\`javascript
const ${frameworkInfo.mainClass} = require('${frameworkInfo.name}');

// Inicializar o framework
const framework = new ${frameworkInfo.mainClass}({
  database: process.env.DATABASE_URL,
  apiKey: process.env.API_KEY
});

await framework.initialize();

// Usar o framework
const result = await framework.someMethod();
console.log(result);
\`\`\`

### Exemplo Avan√ßado

\`\`\`javascript
const ${frameworkInfo.mainClass} = require('${frameworkInfo.name}');

async function advancedExample() {
  const framework = new ${frameworkInfo.mainClass}(config);
  await framework.initialize();
  
  // Criar servi√ßo personalizado
  const service = await framework.createService('my-service', {
    customConfig: true
  });
  
  // Usar o servi√ßo
  const result = await service.execute({
    data: 'example'
  });
  
  return result;
}
\`\`\`

---

## üîß API Reference

### Principais M√©todos

${frameworkInfo.api.methods.map(method => `
#### \`${method.name}\`
${method.description}

**Par√¢metros:**
\`\`\`typescript
${method.signature}
\`\`\`

**Retorno:**
\`\`\`typescript
${method.returnType}
\`\`\`

**Exemplo:**
\`\`\`javascript
${method.example}
\`\`\`
`).join('\n')}

---

## üìö Exemplos

${frameworkInfo.examples.map(example => `
### ${example.name}

${example.description}

\`\`\`javascript
${example.code}
\`\`\`

[Ver c√≥digo completo](examples/${example.file})
`).join('\n')}

---

## üöÄ Deploy

### Docker

\`\`\`bash
# Build da imagem
docker build -t ${frameworkInfo.name} .

# Rodar container
docker run -p 3000:3000 ${frameworkInfo.name}
\`\`\`

### Kubernetes

\`\`\`yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ${frameworkInfo.name}
spec:
  replicas: 3
  selector:
    matchLabels:
      app: ${frameworkInfo.name}
  template:
    metadata:
      labels:
        app: ${frameworkInfo.name}
    spec:
      containers:
      - name: ${frameworkInfo.name}
        image: ${frameworkInfo.name}:latest
        ports:
        - containerPort: 3000
        env:
        - name: NODE_ENV
          value: "production"
\`\`\`

---

## üõ†Ô∏è Desenvolvimento

### Scripts Dispon√≠veis

${Object.entries(frameworkInfo.scripts).map(([name, description]) => `- \`npm run ${name}\`: ${description}`).join('\n')}

### Estrutura do Projeto

\`\`\`
${frameworkInfo.structure}
\`\`\`

---

## üìÑ Licen√ßa

Este projeto est√° licenciado sob a Licen√ßa ${frameworkInfo.license} - veja o arquivo [LICENSE](LICENSE) para detalhes.

---

## ü§ù Contribui√ß√£o

Contribui√ß√µes s√£o bem-vindas! Por favor, leia nosso [Guia de Contribui√ß√£o](CONTRIBUTING.md) para detalhes.

---

## üìû Contato

${frameworkInfo.contact.map(info => `- **${info.type}**: ${info.value}`).join('\n')}

---

<div align="center">

**‚≠ê Se este projeto te ajudou, por favor considere dar uma estrela!**

![Star History](https://img.shields.io/github/stars/${frameworkInfo.repository.username}/${frameworkInfo.repository.repo}?style=social)

</div>
    `;
  }
}
```

## üéØ Resumo das Capacidades Expandidas

### ‚úÖ **Capacidades Completas:**

1. **üîç Busca Inteligente na Web**
   - Pesquisa de melhores pr√°ticas
   - An√°lise de tend√™ncias
   - Verifica√ß√£o de compatibilidade
   - Benchmarking autom√°tico

2. **‚öôÔ∏è Setup Autom√°tico Avan√ßado**
   - Detec√ß√£o de ambiente
   - Scripts multiplataforma
   - Configura√ß√£o de Docker/K8s
   - CI/CD pipelines
   - Migra√ß√µes e seed data

3. **üîå Integra√ß√µes com APIs Populares**
   - OpenAI, Stripe, Firebase, AWS, GitHub
   - Clientes otimizados
   - Exemplos pr√°ticos
   - Testes automatizados
   - Documenta√ß√£o completa

4. **üìö Documenta√ß√£o Abrangente**
   - README completo
   - API Reference
   - Guias de usu√°rio
   - Exemplos detalhados
   - Guias de deploy
   - Troubleshooting

### üöÄ Vantagens Competitivas:

- **Autonomia Total**: Gera tudo automaticamente
- **Atualizado**: Busca informa√ß√µes em tempo real
- **Profissional**: Qualidade de produ√ß√£o
- **Completo**: Do setup √† documenta√ß√£o
- **Flex√≠vel**: Adapta-se a qualquer tecnologia

---

**O Framework Creator agora √© uma solu√ß√£o COMPLETA e PROFISSIONAL** que pode competir com as melhores ferramentas do mercado! üöÄüéâ